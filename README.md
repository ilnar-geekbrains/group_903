# Руководство о том, как стать мастером контроля версий (Git)

## Что такое Git?

**Git** — это система контроля версий, которая позволяет сохранять и отслеживать любые изменения в файлах, хранить их версии и оперативно возвращаться в любое сохранённое состояние, без перезаписи предыдущих снимков.

Подход Git к хранению данных больше похож на набор снимков миниатюрной файловой системы. Каждый раз, когда вы делаете коммит, то есть сохраняете состояние своего проекта в Git, система запоминает, как выглядит каждый файл в этот момент, и сохраняет ссылку на этот снимок (рис.1).

**Рисунок 1. Хранение данных как снимков проекта во времени**

![Рисунок 1. Хранение данных как снимков проекта во времени](Рис.1.jpg)

### Три состояния в Git

Самая важная вещь, которую нужно запомнить о Git,  что у Git есть три основных состояния, в которых могут находиться ваши файлы: **изменён** (modified), **индексирован** (staged) и **зафиксирован**(committed):

* К изменённым относятся файлы, которые поменялись, но ещё не были зафиксированы.

* Индексированный — это изменённый файл в его текущей версии, отмеченный для включения в следующий коммит.

* Зафиксированный значит, что файл уже сохранён в вашей локальной базе.

## Создание Git-репозитория

Также для работы  в программе Git потребуется создать репозиторий. 

Обычно вы получаете репозиторий Git одним из двух способов:

1.  Вы можете взять локальный каталог, который в настоящее время не находится под версионным контролем, и превратить его в репозиторий Git.
2.  Вы можете клонировать существующий репозиторий Git из любого места.

В обоих случаях вы получите готовый к работе Git репозиторий на вашем компьютере.

***Одна из схем создания репозитория:***

1.  Создать пустую директорию на диске.
2.  Перейти в созданную папку и запустить терминал.
3.  Инициализировать репозиторий командой **git init**. После выполнения этой команды в директории появится скрытая папка **.git**.
4.  Добавить в репозиторий файлы командой **git add**. После указанной команды выбранные файлы перейдут в статус «отслеживаемых» и можно будет увидеть производимые с ними изменения ― удаление, перемещение, переименование и изменения содержимого файлов.
5.  Создать первый коммит командой **git commit -m "Initial commit"**.
6.  Создать ветку в **Git командой git branch <название_ветки>**. 

## Базовый синтаксис записи и форматирования в Git 

- **Заголовки**.  Чтобы создать заголовок, добавьте от одного до шести символов # перед его текстом. Количество используемых # элементов определяет уровень иерархии и размер шрифта заголовка. (рис. 2)

**Рисунок 2. Образец применения #**

![Форматрирование1](Рис.2.jpg)

При использовании двух или более заголовков GitHub автоматически создает оглавление, которое можно получить, щелкнув  в заголовке файла. В оглавлении приводится каждый заголовок. Щелкнув по нему, можно перейти к соответствующему разделу.

- **Текст стилей**. Текст в полях комментариев и файлах .md можно выделять полужирным шрифтом, курсивом, зачеркиванием, а также подстрочным или надстрочным шрифтом. (рис.3)

**Рисунок 3. Текст стилей**

![Форматирование2](Рис.3.jpg)

- **Текст в кавычках**. Цитировать текст можно с помощью >.

- **Цитирование кода**. Вы можете выделить код или команду в предложении с помощью одинарных грависов. Текст, заключенный в обратные кавычки, не форматируется. Кроме того, вы можете использовать сочетание клавиш COMMAND+E (Mac) или CTRL+E (Windows/Linux) для вставки обратных кавычек для блока кода в строке Markdown. (рис.4) 

**Рисунок 4. Цитирование кода**

![Форматирование4](Рис.4.jpg)

Чтобы выделить код или текст в отдельный блок, используйте тройные грависы. (рис.5)

**Рисунок 5. Выделение кода в отдельный блок**

![Форматирование5](Рис.5.jpg)

- **Ссылки**. Чтобы создать встроенную ссылку, заключите ее текст в квадратные скобки [ ], а затем заключите URL-адрес в обычные скобки ( ). Чтобы создать ссылку, можно также использовать сочетание клавиш Command+K. При выборе текста можно вставить URL-адрес из буфера обмена, чтобы автоматически создать ссылку из выделенного фрагмента. (рис.6)

Вы также можете создать гиперссылку Markdown, выделите текст и с помощью сочетания клавиш Command+V. Если вы хотите заменить текст ссылкой, используйте сочетание клавиш Command+Shift+V.

**Рисунок 6. Пример ссылки**

![Форматирование6](Рис.6.jpg)

- **Изображения**. Вы можете включить изображение, добавив ! и заключив замещающий текст в [ ]. Замещающий текст — это короткий текст, эквивалентный информации на изображении. Затем оставьте ссылку на изображение в скобках ().

- **Списки**. Вы можете сделать неупорядоченный список, выполнив одну или несколько строк текста с -помощью ,* или.+ (рис.7). Чтобы упорядочить список, поставьте перед каждой строкой номер.

- **Списки задач**. Чтобы создать список задач, добавьте к элементам списка префикс — дефис, пробел, а затем [ ]. Чтобы пометить задачу как завершенную, используйте [x].

## Команды в Git

### Основные команды
Всего несколько команд нужно для базового варианта использования Git для ведения истории изменений.

- **git add**. Команда git add добавляет содержимое рабочего каталога в индекс (staging area) для последующего коммита. По умолчанию git commit использует лишь этот индекс, так что вы можете использовать git add для сборки слепка вашего следующего коммита.

- **git status**. Команда git status показывает состояния файлов в рабочем каталоге и индексе: какие файлы изменены, но не добавлены в индекс; какие ожидают коммита в индексе. Вдобавок к этому выводятся подсказки о том, как изменить состояние файлов.

- **git diff**. Команда git diff используется для вычисления разницы между любыми двумя Git деревьями. Это может быть разница между вашей рабочей копией и индексом (собственно git diff), разница между индексом и последним коммитом (git diff --staged), или между любыми двумя коммитами (git diff master branchB).

- **git difftool**. Команда git difftool просто запускает внешнюю утилиту сравнения для показа различий в двух деревьях, на случай если вы хотите использовать что-либо отличное от встроенного просмотрщика git diff.

- **git commit**. Команда git commit берёт все данные, добавленные в индекс с помощью git add, и сохраняет их слепок во внутренней базе данных, а затем сдвигает указатель текущей ветки на этот слепок.

- **git reset**. Команда git reset, как можно догадаться из названия, используется в основном для отмены изменений. Она изменяет указатель HEAD и, опционально, состояние индекса. Также эта команда может изменить файлы в рабочем каталоге при использовании параметра --hard, что может привести к потере наработок при неправильном использовании, так что убедитесь в серьёзности своих намерений прежде чем использовать его.

- **git rm**. Команда git rm используется в Git для удаления файлов из индекса и рабочей копии. Она похожа на git add с тем лишь исключением, что она удаляет, а не добавляет файлы для следующего коммита.

- **git mv**. Команда git mv — это всего лишь удобный способ переместить файл, а затем выполнить git add для нового файла и git rm для старого.

- **git clean**. Команда git clean используется для удаления ненужного из рабочего каталога. Это могут быть результаты сборки проекта или файлы конфликтов слияний.

- **git init**. Чтобы превратить обычный каталог в Git репозиторий и начать версионировать файлы в нём, просто запустите git init.

### Ветвление и слияния

- **git branch**. Команда git branch — это своего рода "менеджер веток". Она умеет перечислять ваши ветки, создавать новые, удалять и переименовывать их.

- **git checkout**. Команда git checkout используется для переключения веток и выгрузки их содержимого в рабочий каталог.

- **git merge**. Команда git merge используется для слияния одной или нескольких веток в текущую. Затем она устанавливает указатель текущей ветки на результирующий коммит.

- **git mergetool**. Команда git mergetool просто вызывает внешнюю программу слияний, в случае если у вас возникли проблемы слияния.

- **git log**. Команда git log используется для просмотра истории коммитов, начиная с самого свежего и уходя к истокам проекта. По умолчанию, она показывает лишь историю текущей ветки, но может быть настроена на вывод истории других, даже нескольких сразу, веток. Также её можно использовать для просмотра различий между ветками на уровне коммитов.

- **git stash**. Команда git stash используется для временного сохранения всех незафиксированных изменений с целью очистки рабочего каталога без необходимости фиксировать незавершённую работу в текущей ветке.

- **git tag**. Команда git tag используется для задания постоянной метки на какой-либо момент в истории проекта. Обычно она используется для релизов. 

## Удаленный репозиторий

Удалённые репозитории представляют собой версии вашего проекта, сохранённые в интернете или ещё где-то в сети. У вас может быть несколько удалённых репозиториев, каждый из которых может быть доступен для чтения или для чтения-записи.Взаимодействие с другими пользователями предполагает управление удалёнными репозиториями, а также отправку и получение данных из них. Управление репозиториями включает в себя как умение добавлять новые, так и умение удалять устаревшие репозитории, а также умение управлять различными удалёнными ветками, объявлять их отслеживаемыми или нет и так далее. В данном разделе мы рассмотрим некоторые из этих навыков.

### Команды Git - cовместная работа и обновление проектов

- **git clone**. Команду git clone выполняют для создания копии (клонирования) удаленного репозитория. В качестве параметра в команду git clone передается URL-адрес репозитория. 
- **git fetch**.Команда git fetch связывается с удалённым репозиторием и забирает из него все изменения, которых у вас пока нет и сохраняет их локально.
- **git pull**. Команда git pull работает как комбинация команд git fetch и git merge, т. е. Git вначале забирает изменения из указанного удалённого репозитория, а затем пытается слить их с текущей веткой.
- **git push**.Команда git push используется для установления связи с удалённым репозиторием, вычисления локальных изменений отсутствующих в нём, и собственно их передачи в вышеупомянутый репозиторий. Этой команде нужно право на запись в репозиторий, поэтому она использует аутентификацию.
- **git remote**. Команда git remote служит для управления списком удалённых репозиториев. Она позволяет сохранять длинные URL репозиториев в виде понятных коротких строк, например «origin», так что вам не придётся забивать голову всякой ерундой и набирать её каждый раз для связи с сервером. Вы можете использовать несколько удалённых репозиториев для работы и git remote поможет добавлять, изменять и удалять их.
- **git archive**. Команда git archive используется для упаковки в архив указанных коммитов или всего репозитория.
- **git submodule**. Команда git submodule используется для управления вложенными репозиториями. Например, это могут быть библиотеки или другие, используемые не только в этом проекте ресурсы. У команды submodule есть несколько под-команд — add, update, sync и др. — для управления такими репозиториями.

## Заключение 

Таким образом, **Git** — это специальная программа, которая позволяет отслеживать любые изменения в файлах, хранить их версии и оперативно возвращаться в любое сохранённое состояние.
Большинство других систем контроля версий хранят информацию в виде списка изменений в файлах. Git работает иначе — он хранит скорее набор снимков — полное отображение того, как выглядит файл в момент сохранения. Это позволяет всегда иметь полную информацию обо всех файлах и быстро восстанавливать любую из предыдущих версий. 